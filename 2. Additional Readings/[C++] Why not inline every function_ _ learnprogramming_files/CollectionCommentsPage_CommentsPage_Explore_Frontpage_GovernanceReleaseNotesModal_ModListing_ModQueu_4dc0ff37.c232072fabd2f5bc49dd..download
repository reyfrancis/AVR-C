(window.webpackJsonp=window.webpackJsonp||[]).push([["CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListing~ModQueu~4dc0ff37"],{"./src/lib/intersectionObserver/index.ts":function(e,t,s){"use strict";let i;s.d(t,"a",function(){return n}),s.d(t,"b",function(){return r});const a=new Map,o=new Map;"undefined"!=typeof window&&(s("./node_modules/intersection-observer/intersection-observer.js"),i=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target,s=e.intersectionRatio>0;if(s!==!!o.get(t)){o.set(t,s);const i=a.get(t);if(i){i(e,s&&!!o.get(t))}}})},{threshold:[.001]}));const n=(e,t)=>{try{a.set(e,t),i&&i.observe(e)}catch(s){0}},r=e=>{try{a.delete(e),i&&i.unobserve(e)}catch(t){0}}},"./src/reddit/components/Media/RichTextContainer/index.m.less":function(e,t,s){e.exports={richTextContainer:"Chtkt3BCZQruf0LtmFg2c",richTextContainerFull:"_3xX726aBn29LDbsDtzr_6E",placeholder:"_1aLU7RPNLdvfcbaNdcN11x",placeholderParagraph:"Owi9iYzjyVpDq_0YbCdJY"}},"./src/reddit/components/Media/index.m.less":function(e,t,s){e.exports={hiddenLink:"_3dhFVFchWAAFXfLFTa94n9",displayNone:"_1Q2mF3u7v9hBVu_4bkC7R4",tweetPlaceholder:"_2IH8Z3uOFGn-TNLufw92zH",tweetEmbedBox:"_3G3xLNIwS59eiRVMICfR7x",isInvisible:"_1kw4-YNb840sdETnjL3_D3",tweetDeleted:"_2PLbyT4mrdGJGH5LY9Eotl"}},"./src/reddit/components/Media/index.tsx":function(e,t,s){"use strict";var i,a=s("./node_modules/lodash/debounce.js"),o=s.n(a),n=s("./node_modules/react/index.js"),r=s.n(n),d=s("./src/lib/classNames/index.ts"),l=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/env/index.ts"),h=s("./src/lib/intersectionObserver/index.ts"),p=s("./src/lib/isUrl/index.ts"),m=s("./node_modules/brcast/dist/brcast.es.js"),u=s("./node_modules/lodash/findKey.js"),b=s.n(u);!function(e){e.Hidden="hidden",e.Visible="visible"}(i||(i={}));const g={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};let f=!1;const w=Object(m.a)({documentInFocus:!0});!function(){if(!f){const e=b()(g,(e,t)=>void 0!==document[t]);e&&document.addEventListener(g[e],()=>{w.setState({documentInFocus:document.visibilityState!==i.Hidden})}),f=!0}}();var v={subscribe:e=>{return w.subscribe(e)},unsubscribe:e=>{w.unsubscribe(e)}},x=s("./src/lib/permalinkToOverlayLocation/index.ts"),E=s("./src/lib/raven/index.ts"),C=s("./src/reddit/components/HTML5StreamPlayer/index.tsx"),y=s("./src/reddit/components/Media/EmbedBox/index.tsx"),O=s("./src/reddit/components/Media/ImageBox/index.tsx"),S=s("./src/reddit/components/Media/MediaContainer/index.tsx"),j=s("./src/reddit/constants/componentSizes.ts"),I=s("./src/reddit/models/Media/index.ts"),N=s("./node_modules/react-redux/es/index.js"),M=s("./src/reddit/actions/post.ts"),L=s("./src/reddit/helpers/styles/mixins/loading.ts"),T=s("./src/reddit/components/Media/RichTextContainer/index.m.less"),P=s.n(T);var W=Object(N.b)(null,e=>({onLoadRichTextContentIfNeeded:t=>e(Object(M.p)(t))}))(class extends r.a.Component{componentDidMount(){this.loadRichTextContentIfNeeded()}loadRichTextContentIfNeeded(){this.props.canLoadContent&&this.props.isExpando&&this.props.onLoadRichTextContentIfNeeded(this.props.postId)}render(){const e=Object(L.a)({isLoading:!0});return r.a.createElement("div",{className:P.a.placeholder},[1,2,3].map(t=>r.a.createElement("div",{key:t,className:P.a.placeholderParagraph},r.a.createElement("div",{className:e}),r.a.createElement("div",{className:e}),r.a.createElement("div",{className:e}))))}}),F=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};var B=e=>{var t=e.canLoadContent,s=e.children,i=e.className,a=e.isCommentsPage,o=e.isRichTextTruncated,n=e.isExpando,l=e.postId,c=e.showFull,h=F(e,["canLoadContent","children","className","isCommentsPage","isRichTextTruncated","isExpando","postId","showFull"]);const p=c?P.a.richTextContainerFull:P.a.richTextContainer,m={};c||(m.maxHeight=`${I.j}px`),a&&(m.maxWidth=`${j.f}px`);const u=o&&c;return r.a.createElement("div",Object.assign({className:Object(d.a)(p,i),style:m},h),s,u&&r.a.createElement(W,{canLoadContent:!!t,isExpando:n,postId:l}))},R=s("./src/reddit/components/Media/VideoBox/index.tsx"),D=s("./src/reddit/components/PlayButton/index.tsx"),V=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),H=s("./src/reddit/helpers/styles/smartTextColor.ts"),k=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),A=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(s[i[a]]=e[i[a]])}return s};var _=Object(l.a)(e=>{var t=e.flairStyleTemplate,s=A(e,["flairStyleTemplate"]);return r.a.createElement(k.a,Object.assign({style:{color:Object(H.a)(Object(V.a)(Object.assign({flairStyleTemplate:t},s)))}},s))}),G=s("./src/reddit/components/RichTextJson/index.tsx"),U=s("./src/reddit/constants/screenWidths.ts"),q=s("./src/reddit/helpers/canPreviewSelfText/index.ts"),z=s("./src/reddit/helpers/getRichTextContent.ts"),J=s("./src/reddit/helpers/postHasSelfText/index.ts"),$=s("./src/lib/redditId/index.ts");function Y(e,t){const s=function e(t,s){let i=!1;let a=[];try{for(const o of t)if("link"===o.e&&o.u&&o.u.includes(`https://www.reddit.com/poll/${s}`))i=!0;else if(o.c&&"string"!=typeof o.c){const t=e(o.c,s);t.found?(i=!0,("par"!==o.e||t.updated.length)&&a.push(Object.assign({},o,{c:t.updated}))):a.push(o)}else a.push(o)}catch(o){i=!1,a=[]}return{found:i,updated:i?a:t}}(e.document,Object($.c)(t));return s.found?{document:s.updated}:e}var Q=s("./src/reddit/i18n/utils.ts"),X=s("./src/reddit/selectors/experiments/postCleanup.ts");const Z=(e,t,s,i)=>{const a=e/t,o=s/i;return Math.abs(a-o)<.03},K=(e,t)=>{for(let s=0;s<t.length;s++){const i=t[s];if(i.width>=e)return i}},ee=(e,t,s)=>{for(let i=0;i<s.length;i++){const a=s[i];if(a.width>=I.e/2&&Z(e,t,a.height,a.width))return a}},te=e=>{for(let t=0;t<e.length;t++){const s=e[t];if(s.height>=I.e||s.width>=I.f)return s}};var se=s("./src/reddit/components/Media/index.m.less"),ie=s.n(se),ae=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],i=!0,a=!1,o=void 0;try{for(var n,r=e[Symbol.iterator]();!(i=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);i=!0);}catch(d){a=!0,o=d}finally{try{!i&&r.return&&r.return()}finally{if(a)throw o}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const oe=1200,ne=350,re=100,de=300,le="https://www.redditmedia.com",ce=75,he="player.js",pe=j.w+j.v,me=e=>e.isVisible?e.children:r.a.createElement("div",{className:ie.a.displayNone},e.children),ue=new Set([I.m.EMBED,I.m.GIFVIDEO,I.m.VIDEO]),be=e=>!!e.media&&ue.has(e.media.type),ge=new Set([I.m.EMBED,I.m.GIFVIDEO,I.m.IMAGE,I.m.VIDEO]),fe=({post:e,postCleanupVariant:t})=>!!e.media&&ge.has(e.media.type)||Object(X.c)(t)&&Object(X.b)(e);t.a=Object(l.a)(class extends r.a.Component{constructor(e){super(e),this.pauseContent=(()=>{this.shouldFocusContentDebouncer(!1)}),this.stopContent=(()=>{const e=this.props.post.media;if(e&&I.d.has(e.type)){if(this.iframe){const t=e.type===I.m.EMBED?e.provider:null;this.pauseEmbed(this.iframe,t)}this.setState(e=>e.shouldStop?null:{shouldStop:!0})}}),this.handleVisibilityChange=(e=>{const t=this.state.shouldPause,s=this.props.autoplayPref;this.iframe&&(t||!s&&e.documentInFocus||this.toggleEmbedAutoplay(this.iframe,!e.documentInFocus)),this.setState({forcePause:!e.documentInFocus})}),this.focusContent=(()=>{this.shouldFocusContentDebouncer(!0)}),this.loadContent=(()=>{this.setState(e=>e.canLoadContent?null:{canLoadContent:!0})}),this.unmountContent=(()=>{}),this.contentIsHeavyToMount=(()=>{const e=this.props.post.media;return!!e&&I.d.has(e.type)}),this.shouldFocusContentDebouncer=o()(e=>{const t=this.props.post.media,s=this.props.autoplayPref;if(t&&I.d.has(t.type)){if(this.iframe){const i=t.type===I.m.EMBED?t.provider:null;i&&!I.p.has(i)?!s&&e||this.toggleEmbedAutoplay(this.iframe,!e):e||this.pauseEmbed(this.iframe,i)}e?this.setState(e=>e.shouldPause||!e.canLoadContent?{canLoadContent:!0,shouldPause:!1,shouldStop:!1}:null):this.setState(e=>e.shouldPause?null:{shouldPause:!0})}},250,{leading:!0}),this.toggleEmbedAutoplay=((e,t)=>{if(e.contentWindow){const s=t?I.g.Pause:I.g.Play;e.contentWindow.postMessage({context:he,method:s},le),e.contentWindow.postMessage({context:he,method:I.g.Mute},le)}}),this.pauseEmbed=((e,t)=>{e.contentWindow&&(t===I.q.YouTube?e.contentWindow.postMessage(JSON.stringify({event:"command",func:I.u.Pause}),le):e.contentWindow.postMessage({context:he,method:I.g.Pause},le))}),this.onIframeLoaded=(()=>{const e=this.props.post.media,t=this.props.autoplayPref,s=e&&e.type===I.m.EMBED?e.provider:null;if(this.iframe&&s&&!I.p.has(s)){const e=this.state.shouldPause;(t||e)&&this.toggleEmbedAutoplay(this.iframe,e)}}),this.onImageBoxClick=(e=>{this.props.isListing||!this.shouldBlur()||this.state.isRevealed||(this.setState({isRevealed:!0}),e.preventDefault(),e.stopPropagation())}),this.storeChildRef=(e=>{this.iframe=e,this.iframe&&this.props.post.media&&"embed"===this.props.post.media.type&&this.props.post.media.provider===I.q.Twitter&&h.a(this.iframe,(e,t)=>{this.iframe&&this.iframe.contentWindow&&this.props.post.media&&"embed"===this.props.post.media.type&&!this.props.post.media.height&&t&&this.iframe.contentWindow.postMessage("twitter-measure-requested",le)})}),this.updateDimensions=(()=>{this.setState({viewportHeight:window.innerHeight,viewportWidth:window.innerWidth})}),this.isSpoiler=(()=>this.props.post.isSpoiler||!(!this.props.crosspost||!this.props.crosspost.isSpoiler)),this.isNSFW=(()=>this.props.post.isNSFW||!(!this.props.crosspost||!this.props.crosspost.isNSFW)),this.state={canLoadContent:e.shouldLoad||!1,forcePause:!1,isRevealed:!1,shouldPause:void 0===e.shouldPause||e.shouldPause,shouldStop:void 0===e.shouldStop||e.shouldStop,viewportHeight:I.e,viewportWidth:I.f}}componentWillMount(){"undefined"!=typeof window&&(this.updateDimensions(),window.addEventListener("resize",this.updateDimensions))}componentDidMount(){be(this.props.post)&&(this.visibilityChangeSubscriptionId=v.subscribe(e=>{this.handleVisibilityChange(e)})),this.props.scrollerItemRef&&fe(this.props)&&this.props.scrollerItemRef(this,this.state.canLoadContent)}componentWillUnmount(){this.visibilityChangeSubscriptionId&&v.unsubscribe(this.visibilityChangeSubscriptionId),this.props.scrollerItemRef&&fe(this.props)&&this.props.scrollerItemRef(void 0),window.removeEventListener("resize",this.updateDimensions),this.iframe&&this.props.post.media&&"embed"===this.props.post.media.type&&this.props.post.media.provider===I.q.Twitter&&h.b(this.iframe)}componentWillReceiveProps(e){!this.state.canLoadContent&&e.shouldLoad&&this.setState({canLoadContent:!0}),void 0!==e.shouldPause&&e.shouldPause!==this.props.shouldPause&&this.shouldFocusContentDebouncer(!e.shouldPause)}getVideoExpandoMaxDimensions(){let e,t=Math.max(I.i,this.state.viewportHeight),s=Math.min(oe,16*t/9);s===oe&&(t=9*oe/16),e=this.state.viewportWidth>=U.e?this.state.viewportWidth<j.q?this.state.viewportWidth-pe-2*ce:this.state.viewportWidth-pe-j.g-2*ce:this.state.viewportWidth-2*ce;const i=this.state.viewportHeight-2*ce;if(s>e)t*=e/s,s=e;else if(t>i){const e=i/t;t=i,s*=e}return{maxVideoHeight:t,maxVideoWidth:s}}getMediaInfo(e){const t=e.availableWidth,s=e.post,i=s.media&&s.media.obfuscated||"";let a=s.media&&!Object(I.B)(s.media)?s.media.content:"";var o=!s.media||Object(I.z)(s.media)||Object(I.A)(s.media)?[0,0]:[s.media.height,s.media.width],n=ae(o,2);let r=n[0],d=n[1];if(t&&s.media&&(s.media.type===I.m.IMAGE||s.media.type===I.m.GIFVIDEO)){const e=K(t,s.media.resolutions);e&&(a=e.url,d=e.width,r=e.height)}else if(t&&s.preview&&Object(X.c)(this.props.postCleanupVariant)&&Object(X.b)(s))a=s.preview.url,d=s.preview.width,r=s.preview.height;else if(s&&s.media&&(!e.isListing||e.isExpando)&&(s.media.type===I.m.IMAGE||s.media.type===I.m.GIFVIDEO)){let e;(e=Object(O.b)(s.media.height,s.media.width)&&Object(O.c)(s.media.height)?ee(s.media.height,s.media.width,s.media.resolutions):te(s.media.resolutions))&&(a=e.url,d=e.width,r=e.height)}if(e.isExpando)if(d>this.state.viewportWidth)r*=this.state.viewportWidth/d,d=this.state.viewportWidth;else if(r>this.state.viewportHeight){const e=this.state.viewportHeight/r;r=this.state.viewportHeight,d*=e}var l=this.getVideoExpandoMaxDimensions();const c=l.maxVideoHeight,h=l.maxVideoWidth;if(s.media&&s.media.type===I.m.VIDEO){const t=r/d;t>I.c?(r=I.k,d=Math.min(Math.max(I.k/t,I.o),I.l)):(r=Math.min(Math.max(I.l*t,I.n),I.k),d=I.l),e.isExpando&&(r=c,d=h)}s.media&&s.media.type===I.m.EMBED&&e.isExpando&&s.media.provider!==I.q.Twitter&&(r=c,d=h);let p=!1;if(e.isMiniCard){const e=r/d;p=Math.abs(e-I.c)>.01}return{source:a,obfuscated:i,width:d,height:r,needsBackgroundBlur:p}}shouldBlur(){var e=this.props;const t=e.isCommentsPage,s=e.isExpando,i=e.isListing,a=e.isOverlay,o=e.theme,n=this.isNSFW(),r=this.isSpoiler();return!(!n||!i||s||o.subredditContext.shouldShowNSFWContent)||!(!r||!(i||t&&!a)||s||this.state.isRevealed)}render(){var e=this.props;const t=e.className,s=e.crosspost,i=e.flairStyleTemplate,a=e.forceAspectRatio,o=e.isCommentsPage,n=e.isExpando,l=e.isListing,h=e.isNotCardView,m=e.post,u=e.postCleanupVariant,b=e.showCentered;var g=e.showFull;const f=void 0!==g&&g;var w=this.state;const v=w.canLoadContent,j=w.forcePause,N=w.shouldPause,M=w.shouldStop,T=Object(X.c)(u)&&Object(X.b)(m);if(!m.media&&!T)return null;const P=j||N,W=M;var F=this.getMediaInfo(this.props);const V=F.source,H=F.obfuscated,k=F.height,A=F.width,U=F.needsBackgroundBlur,Z={showCentered:b,isListing:l,showFull:f,height:k,width:A},K=Object.assign({},Z,{forceAspectRatio:a,className:t}),ee=this.shouldBlur(),te=!(!m.isSponsored||!m.source);if(H&&ee)return r.a.createElement(S.a,Object.assign({},K,{blurSrc:H}),r.a.createElement(me,{isVisible:v},r.a.createElement(O.a,Object.assign({},Z,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isListing:l,isNSFW:this.isNSFW(),isSpoiler:this.isSpoiler(),isVideoThumbnail:!!m.media&&m.media.type===I.m.VIDEO,onClick:this.onImageBoxClick,postId:m.id,shouldBlur:ee,source:H,outboundUrl:te&&m.source.outboundUrl||void 0,originalSource:V}))));if(T){const e=this.state.viewportHeight-2*ce,t=this.state.viewportWidth-2*ce,i=m.preview&&Object(p.a)(m.preview.url)?m.preview.url:V;return r.a.createElement(S.a,Object.assign({},K,{blurSrc:U?i:void 0,isExpando:!!n}),r.a.createElement(me,{isVisible:v},r.a.createElement(O.a,Object.assign({},Z,{isCrosspost:!!s,isExpando:n,isListing:l,isNSFW:this.isNSFW(),isSpoiler:this.isSpoiler(),maxHeight:n?e:void 0,maxWidth:n?t:void 0,postId:m.id,shouldBlur:ee,source:i,outboundUrl:te&&m.source.outboundUrl||void 0,originalSource:i}))))}if(!m.media)return null;switch(m.media.type){case I.m.RTJSON:const e=Object(z.a)(m,null);if(null===e)return;return f||Object(q.a)(m)?r.a.createElement(B,{canLoadContent:v,className:t,"data-click-id":"text",isCommentsPage:o,isExpando:n,isRichTextTruncated:m.media.isRichtextPreview,postId:m.id,showFull:f},r.a.createElement(G.a,{flairStyleTemplate:i,content:m.isMeta?Y(e,m.id):e,mediaMetadata:m.media.mediaMetadata,renderingObjectInfo:m,renderMediaAsLinks:l})):null;case I.m.TEXT:if(Object(J.a)(m)){const e="Text post should not include body content";return Object(E.c)(e,{extra:{info:{post:m,isListing:l,isCommentsPage:o}}}),Object(c.a)()&&console.log(`${m.id}: ${e}`),r.a.createElement(B,{postId:m.id,className:t,"data-click-id":"text",isCommentsPage:o,showFull:f},r.a.createElement(_,{flairStyleTemplate:i,html:m.isMeta?function(e,t,s){return e.replace(`href="https://www.reddit.com/poll/${Object($.c)(t)}`,`class="${s}" href="https://www.reddit.com/poll/${Object($.c)(t)}`)}(m.media.content,m.id,ie.a.hiddenLink):m.media.content}))}return null;case I.m.EMBED:if(this.props.isMiniCard&&m.preview&&m.preview.url)return r.a.createElement(S.a,Object.assign({},K,{alwaysWrapMedia:!0}),r.a.createElement(me,{isVisible:v},r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,Object.assign({},Z,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:n,isListing:l,isNSFW:this.isNSFW(),isCrosspost:!!s,isSpoiler:this.isSpoiler(),postId:m.id,shouldBlur:ee,source:m.preview.url,originalSource:m.preview.url})),r.a.createElement(D.a,null))));if(I.h.has(m.media.provider)){if(m.media.provider===I.q.Twitter){const e=k||(m.media.isDeleted?re:de);return r.a.createElement(S.a,Object.assign({},K,{alwaysWrapMedia:!0,height:e,showFull:!0,width:ne}),v&&r.a.createElement(r.a.Fragment,null,!k&&(m.media.isDeleted?r.a.createElement("p",{className:ie.a.tweetDeleted},Object(Q.c)("This Tweet has been deleted.")):r.a.createElement("div",{className:Object(d.a)(Object(L.a)({isLoading:!0}),ie.a.tweetPlaceholder)})),r.a.createElement(y.a,{childRef:this.storeChildRef,className:Object(d.a)(ie.a.tweetEmbedBox,{[ie.a.isInvisible]:!k}),height:e,isListing:l,isResponsive:!0,onLoad:this.onIframeLoaded,showCentered:b,showFull:!0,source:V,title:m.title,width:ne})))}return r.a.createElement(S.a,Object.assign({},K,{alwaysWrapMedia:!0,height:n?k:I.i,width:n?A:I.i*(16/9)}),v&&r.a.createElement(y.a,{childRef:this.storeChildRef,height:n?k:I.i,width:n?A:void 0,isListing:l,isResponsive:!0,onLoad:this.onIframeLoaded,showCentered:b,showFull:f,source:V,title:m.title}))}return r.a.createElement(S.a,Object.assign({},K,{alwaysWrapMedia:!0}),v&&r.a.createElement(y.a,Object.assign({},Z,{isResponsive:n||m.media.provider===I.q.IFrameEmbed,title:m.title,childRef:this.storeChildRef,onLoad:this.onIframeLoaded,source:V,fullWidth:m.media.provider===I.q.IFrameEmbed})));case I.m.GIFVIDEO:{let e=k,t=A;return e>I.i&&(t=A/k*(e=I.i)),r.a.createElement(S.a,Object.assign({},K,{blurSrc:U?m.media.gifBackgroundImage:void 0}),r.a.createElement(me,{isVisible:v},r.a.createElement(R.a,Object.assign({},Z,{isNotCardView:h,height:n?void 0:e,width:n?void 0:t,postId:m.id,shouldLoad:!0,shouldPause:P,source:V,originalSource:m.media.content}))))}case I.m.VIDEO:{const e=m.media.posterUrl||m.preview&&m.preview.url;return this.props.isMiniCard&&e?r.a.createElement(S.a,Object.assign({},K,{alwaysWrapMedia:!0}),r.a.createElement(me,{isVisible:v},r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,Object.assign({},Z,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:n,isListing:l,isNSFW:this.isNSFW(),isCrosspost:!!s,isSpoiler:this.isSpoiler(),postId:m.id,shouldBlur:ee,source:e,originalSource:e})),r.a.createElement(D.a,null)))):r.a.createElement(S.a,Object.assign({},K,{alwaysWrapMedia:!0}),v&&r.a.createElement(C.b,{autoPlay:"boolean"==typeof N?!N:void 0,isExpando:n,postUrl:Object(x.a)(m.permalink),shouldLoad:!0,shouldPause:P,shouldStop:W,hlsSource:m.media.hlsUrl,mpegDashSource:m.media.dashUrl,isGif:m.media.isGif,scrubberThumbSource:m.media.scrubberThumbSource,postId:m.id,callToActionSource:m.source||void 0,callToActionText:m.callToAction,isListing:l,posterUrl:m.media.posterUrl}))}case I.m.IMAGE:const a=this.state.viewportHeight-2*ce,u=this.state.viewportWidth-2*ce;let g=V;return this.props.isMiniCard&&!this.props.isMiniCardHQPreviews&&(m.thumbnail&&Object(p.a)(m.thumbnail.url)?g=m.thumbnail.url:m.preview&&Object(p.a)(m.preview.url)&&(g=m.preview.url)),r.a.createElement(S.a,Object.assign({},K,{blurSrc:U?g:void 0,isExpando:!!n}),r.a.createElement(me,{isVisible:v},r.a.createElement(O.a,Object.assign({},Z,{className:this.props.imageBoxClassName,contentImageClassName:this.props.imageBoxContentImageClassName,imageClassName:this.props.imageBoxClassName,isExpando:n,isListing:l,isNSFW:this.isNSFW(),isCrosspost:!!s,isSpoiler:this.isSpoiler(),maxHeight:n?a:void 0,maxWidth:n?u:void 0,postId:m.id,shouldBlur:ee,source:g,outboundUrl:te&&m.source.outboundUrl||void 0,originalSource:m.media.content}))));default:return null}}})},"./src/reddit/helpers/canPreviewSelfText/index.ts":function(e,t,s){"use strict";var i=s("./src/reddit/helpers/postHasSelfText/index.ts");t.a=(e=>Object(i.a)(e)&&!e.isSpoiler&&!e.isNSFW)},"./src/reddit/helpers/postHasSelfText/index.ts":function(e,t,s){"use strict";var i=s("./src/reddit/models/Media/index.ts"),a=s("./src/reddit/models/RichTextJson/index.ts");t.a=(e=>{const t=e&&e.media;return!!t&&(t.type===i.m.TEXT&&!!t.content||t.type===i.m.RTJSON&&!Object(a.E)(t.richtextContent))})}}]);
//# sourceMappingURL=CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListing~ModQueu~4dc0ff37.c232072fabd2f5bc49dd.js.map